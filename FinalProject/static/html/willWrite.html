<!DOCTYPE html>
<html lang="ko">

<head>
  <meta charset="UTF-8">
  <title>유언장 작성하기</title>
  <link rel="stylesheet" href="../css/will.css">
  <link rel="stylesheet" href="../css/main.css">
</head>

<body>
  <div class="phone-frame">

    <div style="display: flex; align-items: center;">
      <h1 class="title-with-icon"
        style="margin: 0; width: 100%; padding: 20px; background: #333; color: white; box-sizing: border-box; text-align: center;">
        <img src="../images/will_Write.svg" alt="유언장 이미지" class="title-icon">
        <span>유언장 작성하기</span>
      </h1>
    </div>

    <div class="section_p">
      <h2>작성하기</h2>
      <div class="content-box" style="margin: 0;">
        <textarea id="will-text" placeholder="⚠ 유언장은 귀하의 의사를 명확히 전달하는 중요한 문서입니다. 신중히 작성해 주시고, 허위 정보나 모호한 표현은 법적 효력을 약화시킬 수 있습니다."
          rows="10"
          style="margin-top: -25px; width: 100%; height: 500px; padding: 0px 15px 15px 15px; padding-top: 0px; border: none; background: transparent; color: black; resize: none; box-sizing: border-box; line-height: 1.5;"></textarea>
      </div>
    </div>

    <div class="button-container">
      <button onclick="saveWill()" style="font-size: 22px;">유언장 등록하기</button>
    </div>

    <!-- 버튼 아래 여백  -->
    <div style="height: 20px;"></div>
  </div>

  <script>
    function saveWill() {
      const text = document.getElementById('will-text').value.trim();

      if (text === "") {
        alert("유언장 내용을 입력해주세요.");
        return;
      }

      const blob = new Blob([text], { type: "text/plain;charset=utf-8" });
      const link = document.createElement("a");
      link.href = URL.createObjectURL(blob);
      link.download = "유언장.txt";
      link.click();

      // 저장 후 페이지 이동
      window.location.href = "willWriteComplete.html";
    }
  </script>
</body>

</html>
